"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[493],{1493:(x,r,e)=>{e.r(r),e.d(r,{ConfigsModule:()=>A});var l=e(9808),u=e(6370),f=e(98),g=e(4004),d=e(8746);class p{constructor(){this.daysBefore=10,this.daysBeforeDescription="",this.weekend=!1,this.weekendDescription="",this.time="10:00",this.timeDescription=""}}var i=e(2382),t=e(1223),h=e(7223),C=e(2183),v=e(1872),Z=e(1386),M=e(3781),y=e(4210),m=e(9247);function F(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().onCancel()}),t._uU(2,"Cancelar"),t.qZA(),t.TgZ(3,"button",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().submitForm()}),t._uU(4,"Guardar"),t.qZA()()}}function U(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().onEdit()}),t._uU(2,"Editar"),t.qZA()()}}const T=[{path:"",component:(()=>{class o{constructor(n){this.configService=n,this.configs=new p,this.configForm=new i.cw({weekend:new i.NI(this.configs.weekend),daysBefore:new i.NI(this.configs.daysBefore),time:new i.NI(this.configs.time)}),this.editable=!1,this.loadData()}loadData(){this.setFormData(),this.configService.getConfigs().pipe((0,g.U)(n=>n.data),(0,d.x)(()=>console.log("as"))).subscribe(n=>{this.configs=n,this.setFormData()})}setFormData(){this.configForm.patchValue({weekend:this.configs.weekend,daysBefore:this.configs.daysBefore,time:this.configs.time}),this.configForm.disable()}submitForm(){this.configService.updateConfigs(this.configForm.value).pipe((0,d.x)(()=>{this.loadData(),this.editable=!1})).subscribe()}onEdit(){this.configForm.enable(),this.editable=!0}onCancel(){this.setFormData(),this.editable=!1}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(h.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-main"]],decls:31,vars:8,consts:[["title","Configuraciones","subtitle","Configuraciones del sistema","icon","cog",3,"solid"],[1,"card"],[1,"card-header"],[1,"card-block"],[1,"card-text","clr-row"],[1,"clr-col-5",3,"formGroup"],[1,"mt1"],["type","time","formControlName","time"],["type","number","formControlName","daysBefore"],["layout","horizontal",1,"mt1"],["type","checkbox","formControlName","weekend"],["class","card-footer",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"card-footer"],[1,"btn","btn-sm",3,"click"]],template:function(n,s){if(1&n&&(t._UZ(0,"app-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3," Configuraciones del sistema "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"cds-time",6)(8,"label"),t._uU(9,"Hora"),t.qZA(),t._UZ(10,"input",7),t.TgZ(11,"cds-control-message"),t._uU(12),t.qZA()(),t.TgZ(13,"cds-input",6)(14,"label"),t._uU(15,"Dias antes"),t.qZA(),t._UZ(16,"input",8),t.TgZ(17,"cds-control-message"),t._uU(18),t.qZA()(),t.TgZ(19,"cds-toggle-group",9)(20,"label"),t._uU(21,"Notificar fin de semana"),t.qZA(),t.TgZ(22,"cds-toggle")(23,"label"),t._uU(24),t.qZA(),t._UZ(25,"input",10),t.qZA(),t.TgZ(26,"cds-control-message"),t._uU(27),t.qZA()()()()(),t.YNc(28,F,5,0,"div",11),t.YNc(29,U,3,0,"ng-template",null,12,t.W1O),t.qZA()),2&n){const c=t.MAs(30);t.Q6J("solid",!0),t.xp6(6),t.Q6J("formGroup",s.configForm),t.xp6(6),t.Oqu(s.configs.timeDescription),t.xp6(6),t.Oqu(s.configs.daysBeforeDescription),t.xp6(6),t.Oqu(s.configForm.controls.weekend?"SI":"NO"),t.xp6(3),t.Oqu(s.configs.weekendDescription),t.xp6(1),t.Q6J("ngIf",s.editable)("ngIfElse",c)}},directives:[C.r,i.JL,i.sg,v.p,Z.MgK,i.Fj,i.JJ,i.u,M.PG,y.VU,i.wV,m.Wr,m.rg,i.Wl,l.O5],encapsulation:2}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(T)],f.Bz]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,u.m,i.UX,b]]}),o})()}}]);